<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="styleCadastro.css">
    <link rel="icon" type="image/x-icon" href="../imagens/favicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Cadastro</title>
</head>
<body>

    <div class="container_">
        <div class="cabecalho">
            <header>
                <img src="../imagens/logo.png" class="imgLogo">
                <a href="../index/index.html" target="_blank" class="cabecalhoTexto">EcoStuff</a>
            </header>
            <header>
                <a href="../contato/contato.html" target="_blank"><div class="cabecalhoTexto">Fale Conosco</div></a>
                <a href="#" id="imgConta"><img src="../imagens/pessoinha2.png"></a>
            </header>
        </div>
        <div id="popUp" class ="hidden">
        <div class="triangulo"></div>
        <div id="popup"><div style="font-weight: bold;"><a href="../cadastro/login.html">Fazer login</a><br></div>
            <div style="font-weight: bold;"><a href="../cadastro/cadastro.html">Cadastro</a><br></div>
            <div style="font-weight: bold;"><a href="../minhaConta/minhaConta.html">Minha conta</a><br></div>
            <a href="#">Sair</a>
        </div></div>

        <div class="cadastro">
            <strong>Faça cadastro na EcoStuff</strong>
            <p>Preencha com seus dados para fazer cadastro.</p>

        <form>
            <div class="container formulario">        
            <form action="../minhaConta/minhaConta.html">
                <div class="row">
                    <input class="col-md-7 col-sm-12 item" type="text" placeholder="Nome Completo" required>
                    <input class="col-md-4 item" type="text" id="cpf" placeholder="CPF"  oninput="validarCPF(this); aplicarMascaraCPF(this)" maxlength="14" required>
                </div>

                <div class="row">
                    <input class="col-md-7 col-sm-12 item" type="email" placeholder="Email" required>
                    <input class="col-md-4 col-sm-12 item" type="text" id="rg" placeholder="RG" oninput="validarRG(this); aplicarMascaraRG(this)" maxlength="12" required>


                </div>

                <div class="row">
                    <input class="col-md-3 col-sm-12 item" type="text" id="telefone" placeholder="Telefone(opcional)" oninput="validarTelefone(this); aplicarMascaraTelefone(this)" maxlength="14">
                  
                    <input class="col-md-3 col-sm-12 item" type="text" id="celular" placeholder="Celular" oninput="validarCelular(this); aplicarMascaraCelular(this)" maxlength="15" required>

                </div>
                    
                
                <div class="row">
                    <input class="col-md-3 col-sm-12 item" type="password" placeholder="Senha" required>
                </div>
                
                <input id="enviar" type="submit" value="Enviar">
            </form>

            <p>Já tem uma conta? <a href="login.html">Clique aqui</a> para realizar login.</p>
            
        </div>
        </form>
    
    </div>

        </div>





        <script src="../scriptPopUp.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            // Função de máscara para CPF
            function aplicarMascaraCPF(cpfField) {
                cpfField.value = cpfField.value
                    .replace(/\D/g, "")            // Remove caracteres não numéricos
                    .replace(/(\d{3})(\d)/, "$1.$2")   // Coloca um ponto após os primeiros 3 dígitos
                    .replace(/(\d{3})(\d)/, "$1.$2")   // Coloca outro ponto após os próximos 3 dígitos
                    .replace(/(\d{3})(\d{1,2})$/, "$1-$2"); // Coloca um traço antes dos últimos 2 dígitos
            }
            
            // Função de máscara para RG
            function aplicarMascaraRG(rgField) {
                rgField.value = rgField.value
                    .replace(/\D/g, "")           // Remove caracteres não numéricos
                    .replace(/(\d{2})(\d)/, "$1.$2")   // Coloca um ponto após os primeiros 2 dígitos
                    .replace(/(\d{3})(\d)/, "$1.$2")   // Coloca outro ponto após os próximos 3 dígitos
                    .replace(/(\d{3})(\d{1})$/, "$1-$2"); // Coloca um traço antes do último dígito
            }
            
            // Função de máscara para Telefone
            function aplicarMascaraTelefone(telefoneField) {
                telefoneField.value = telefoneField.value
                    .replace(/\D/g, "")                 // Remove caracteres não numéricos
                    .replace(/(\d{2})(\d)/, "($1) $2")  // Coloca parênteses em torno dos primeiros 2 dígitos
                    .replace(/(\d{4})(\d)/, "$1-$2");   // Coloca um traço após os 4 primeiros dígitos seguintes
            }
            
            // Função de máscara para Celular
            function aplicarMascaraCelular(celularField) {
                celularField.value = celularField.value
                    .replace(/\D/g, "")                  // Remove caracteres não numéricos
                    .replace(/(\d{2})(\d)/, "($1) $2")   // Coloca parênteses em torno dos primeiros 2 dígitos
                    .replace(/(\d{5})(\d)/, "$1-$2");    // Coloca um traço após os 5 primeiros dígitos seguintes
            }
            
            // Funções de validação (mantidas as mesmas)
            function validarCPF(cpfField) {
                const cpf = cpfField.value.replace(/\D/g, "");
                if (!/^\d{11}$/.test(cpf)) {
                    cpfField.setCustomValidity("Por favor, insira um CPF válido.");
                } else if (!validarDigitoVerificadorCPF(cpf)) {
                    cpfField.setCustomValidity("CPF inválido.");
                } else {
                    cpfField.setCustomValidity("");
                }
            }
            
            function validarDigitoVerificadorCPF(cpf) {
                let soma = 0, resto;
                for (let i = 1; i <= 9; i++) soma += parseInt(cpf.substring(i-1, i)) * (11 - i);
                resto = (soma * 10) % 11;
                if (resto === 10 || resto === 11) resto = 0;
                if (resto !== parseInt(cpf.substring(9, 10))) return false;
                soma = 0;
                for (let i = 1; i <= 10; i++) soma += parseInt(cpf.substring(i-1, i)) * (12 - i);
                resto = (soma * 10) % 11;
                if (resto === 10 || resto === 11) resto = 0;
                if (resto !== parseInt(cpf.substring(10, 11))) return false;
                return true;
            }
            
            function validarRG(rgField) {
                const rg = rgField.value.replace(/\D/g, "");
                if (!/^\d{7,9}$/.test(rg)) {
                    rgField.setCustomValidity("Por favor, insira um RG válido.");
                } else {
                    rgField.setCustomValidity("");
                }
            }
            
            function validarTelefone(telefoneField) {
                const telefone = telefoneField.value.replace(/\D/g, "");
                if (telefone === "") {
                    telefoneField.setCustomValidity("");
                } else if (!/^\d{10}$/.test(telefone)) {
                    telefoneField.setCustomValidity("Por favor, insira um número de telefone válido.");
                } else {
                    telefoneField.setCustomValidity("");
                }
            }
            
            function validarCelular(celularField) {
                const celular = celularField.value.replace(/\D/g, "");
                if (!/^\d{11}$/.test(celular) || celular[2] !== '9') {
                    celularField.setCustomValidity("Por favor, insira um número de celular válido.");
                } else {
                    celularField.setCustomValidity("");
                }
            }
            </script>
</body>
</html>